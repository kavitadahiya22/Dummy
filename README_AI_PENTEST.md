# 🤖 AI-Powered Penetration Testing Suite

## 🎯 Overview

This is a cutting-edge penetration testing suite that combines the power of **OpenAI GPT** and **DeepSeek AI** with comprehensive security tools, real-time **OpenSearch dashboards**, and professional **PDF reporting**. The AI orchestrates intelligent testing strategies, analyzes results, and provides actionable security insights.

## 🚀 Key Features

### 🤖 AI Intelligence
- **OpenAI GPT Integration**: Advanced vulnerability analysis and strategic planning
- **DeepSeek AI Analysis**: Specialized security assessment and risk evaluation
- **Intelligent Tool Orchestration**: AI decides which tools to run and in what order
- **Automated Risk Prioritization**: AI-driven vulnerability severity assessment
- **Natural Language Insights**: Plain English explanations of technical findings

### 📊 Real-time Visualization
- **OpenSearch Dashboard**: Live monitoring of penetration testing progress
- **AI Insights Dashboard**: Dedicated dashboard for AI analysis results
- **Risk Assessment Matrix**: Visual risk prioritization and remediation guidance
- **Interactive Charts**: Dynamic visualization of findings and trends

### 🛡️ Comprehensive Security Testing
- **20+ Security Tools**: Nmap, Nikto, Nuclei, SQLMap, Hydra, ZAP, and more
- **Multi-Phase Testing**: Reconnaissance → Vulnerability Assessment → Exploitation → Post-Exploitation
- **Docker Containerization**: Isolated, reproducible testing environment
- **Automated Reporting**: Professional PDF reports with executive summaries

## 🏃‍♂️ Quick Start

### Option 1: Complete AI Setup (Recommended)

```bash
# 1. Setup AI dependencies
python setup_ai_pentest.py

# 2. Configure API keys (optional but recommended)
export OPENAI_API_KEY="your-openai-api-key"
export DEEPSEEK_API_KEY="your-deepseek-api-key"

# 3. Launch complete AI environment
python launch_ai_pentest.py
```

### Option 2: Manual Setup

```bash
# 1. Install AI requirements
pip install -r requirements_ai.txt

# 2. Start OpenSearch services
docker-compose -f docker-compose-ai.yml up -d opensearch opensearch-dashboards

# 3. Run AI-powered penetration testing
python ai_pentest_orchestrator.py http://localhost:3000
```

## 🔑 AI API Keys Setup

### OpenAI API Key
1. Visit [OpenAI Platform](https://platform.openai.com/api-keys)
2. Create account and generate API key
3. Set environment variable: `export OPENAI_API_KEY="your-key"`

### DeepSeek API Key
1. Visit [DeepSeek Platform](https://platform.deepseek.com/api-keys)
2. Create account and generate API key
3. Set environment variable: `export DEEPSEEK_API_KEY="your-key"`

**Note**: The system works without API keys using intelligent fallback analysis!

## 📊 Dashboard Access

Once running, access your dashboards:

- **🎯 Main Dashboard**: http://localhost:5601/app/dashboards
- **📈 OpenSearch API**: http://localhost:9200
- **🎪 Target App**: http://localhost:3000 (OWASP Juice Shop)

### Dashboard Features

#### AI Pentest Overview
- Real-time tool execution progress
- Live vulnerability discovery
- AI recommendation tracking
- Tool success/failure rates

#### AI Security Insights
- AI-powered vulnerability analysis
- Risk assessment summaries
- Remediation recommendations
- Compliance impact analysis

#### Risk Assessment Matrix
- Visual risk prioritization
- CVSS score distributions
- AI confidence ratings
- Remediation priority queues

## 🤖 AI Orchestration Features

### Intelligent Strategy Planning
The AI analyzes your target and creates a customized testing strategy:

```json
{
  "recommended_tools": ["nmap", "nuclei", "sqlmap", "hydra"],
  "vulnerability_focus": ["SQL Injection", "XSS", "Authentication Bypass"],
  "attack_vectors": ["Input validation", "Session management"],
  "risk_assessment": "high"
}
```

### Real-time Analysis
As tools execute, AI continuously analyzes results:
- **Vulnerability Classification**: Automatic categorization and severity assessment
- **Pattern Recognition**: Identifies related vulnerabilities across tools
- **Risk Calculation**: Dynamic risk scoring based on findings
- **Remediation Guidance**: Specific steps to fix identified issues

### Enhanced Reporting
AI generates comprehensive insights:
- **Executive Summaries**: Business-focused risk explanations
- **Technical Details**: Developer-oriented remediation steps
- **Compliance Mapping**: OWASP, CWE, and regulatory alignment
- **Trend Analysis**: Historical comparison and improvement tracking

## 🛠️ Architecture

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   AI Models     │    │  Pentest Tools   │    │  OpenSearch     │
│                 │    │                  │    │                 │
│ • OpenAI GPT    │◄──►│ • Nmap          │◄──►│ • Data Storage  │
│ • DeepSeek      │    │ • Nuclei        │    │ • Dashboards    │
│ • Transformers  │    │ • SQLMap        │    │ • Analytics     │
└─────────────────┘    │ • Hydra         │    └─────────────────┘
                       │ • ZAP           │              ▲
                       │ • Nikto         │              │
                       └──────────────────┘              │
                                ▲                        │
                                │                        │
                       ┌──────────────────┐             │
                       │  AI Orchestrator │─────────────┘
                       │                  │
                       │ • Strategy Plan  │
                       │ • Tool Selection │
                       │ • Result Analysis│
                       │ • Report Gen     │
                       └──────────────────┘
```

## 🔧 Configuration

### Environment Variables

```bash
# Target Configuration
TARGET_URL=http://juice-shop:3000

# AI Configuration
OPENAI_API_KEY=your-openai-key
DEEPSEEK_API_KEY=your-deepseek-key
AI_ENHANCED=true
AI_MODEL_PREFERENCE=deepseek

# OpenSearch Configuration
OPENSEARCH_URL=http://localhost:9200
OPENSEARCH_DASHBOARD_URL=http://localhost:5601

# Output Configuration
PENTEST_OUTPUT_DIR=./results
REPORTS_DIR=./reports
```

### Docker Services

#### Core Services
- **OpenSearch**: Search engine and data store (Port 9200)
- **OpenSearch Dashboards**: Web interface (Port 5601)
- **OWASP Juice Shop**: Target application (Port 3000)
- **AI Pentest Suite**: Main testing container

#### Resource Requirements
- **Memory**: 4GB+ recommended (2GB for OpenSearch)
- **CPU**: 2+ cores recommended
- **Storage**: 10GB+ for results and logs
- **Network**: Internet access for AI APIs

## 📄 Report Generation

### AI-Enhanced PDF Reports
- **Executive Summary**: AI-generated business impact analysis
- **Technical Findings**: Detailed vulnerability descriptions
- **Risk Matrix**: Visual risk assessment with AI insights
- **Remediation Plan**: Prioritized action items with timelines
- **Compliance Mapping**: Regulatory requirement alignment

### Dashboard Reports
- **Real-time Metrics**: Live testing progress and findings
- **Historical Trends**: Comparison with previous assessments
- **AI Insights**: Natural language vulnerability explanations
- **Export Options**: CSV, JSON, PDF export capabilities

## 🔍 Advanced Usage

### Custom AI Prompts
Modify AI analysis by updating prompts in `ai_pentest_orchestrator.py`:

```python
analysis_prompt = f"""
Analyze this web application for security vulnerabilities.
Focus on: {custom_focus_areas}
Target: {target_url}
Provide detailed remediation guidance.
"""
```

### Custom Tool Integration
Add new tools to the orchestrator:

```python
tool_mapping = {
    'custom_tool': 'tools/custom_tool.py',
    'new_scanner': 'tools/new_scanner.py'
}
```

### API Integration
Use the REST APIs for custom integrations:

```bash
# Get AI analysis results
curl -X GET "localhost:9200/ai-insights-*/_search"

# Query vulnerability data
curl -X GET "localhost:9200/ai-pentest-results-*/_search" \
  -H 'Content-Type: application/json' \
  -d '{"query": {"term": {"severity": "Critical"}}}'
```

## 🚨 Troubleshooting

### Common Issues

#### AI API Errors
```bash
# Check API key configuration
echo $OPENAI_API_KEY
echo $DEEPSEEK_API_KEY

# Test API connectivity
python -c "import openai; print('OpenAI OK')"
```

#### OpenSearch Issues
```bash
# Check OpenSearch status
curl http://localhost:9200/_cluster/health

# View OpenSearch logs
docker logs opensearch
```

#### Memory Issues
```bash
# Increase Docker memory allocation
# Edit Docker Desktop settings or add to docker-compose:
environment:
  - "OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m"
```

### Performance Optimization

#### AI Model Selection
- **DeepSeek**: Faster, more cost-effective for security analysis
- **OpenAI GPT**: More comprehensive analysis, higher cost
- **Fallback**: No API required, rule-based analysis

#### Resource Tuning
```yaml
# docker-compose-ai.yml
services:
  opensearch:
    deploy:
      resources:
        limits:
          memory: 2G
        reservations:
          memory: 1G
```

## 🤝 Contributing

1. Fork the repository
2. Create feature branch: `git checkout -b ai-feature-name`
3. Add tests for AI functionality
4. Submit pull request with detailed description

## 📚 Learning Resources

### AI Security Analysis
- [OpenAI Security Best Practices](https://platform.openai.com/docs/guides/safety-best-practices)
- [DeepSeek AI Documentation](https://platform.deepseek.com/docs)
- [AI in Cybersecurity](https://owasp.org/www-project-ai-security-and-privacy-guide/)

### Penetration Testing
- [OWASP Testing Guide](https://owasp.org/www-project-web-security-testing-guide/)
- [PTES Technical Guidelines](http://www.pentest-standard.org/)
- [NIST Cybersecurity Framework](https://www.nist.gov/cyberframework)

### OpenSearch & Dashboards
- [OpenSearch Documentation](https://opensearch.org/docs/)
- [Dashboard Visualization Guide](https://opensearch.org/docs/latest/dashboards/)
- [Query DSL Reference](https://opensearch.org/docs/latest/opensearch/query-dsl/)

## ⚠️ Security & Legal

### Responsible Use
- **Authorized Testing Only**: Only test systems you own or have explicit permission to test
- **Data Protection**: Ensure sensitive data is properly handled and destroyed
- **API Security**: Protect AI API keys and rotate them regularly
- **Network Isolation**: Use Docker networks to isolate testing traffic

### Legal Compliance
- Unauthorized penetration testing is illegal
- Ensure proper authorization before testing
- Follow responsible disclosure practices
- Comply with local and international laws

## 📄 License

This project is licensed under the MIT License. See LICENSE file for details.

## 🆘 Support

### Getting Help
1. **Documentation**: Check this README and inline code comments
2. **Logs**: Review Docker and application logs for errors
3. **Issues**: Create GitHub issues with detailed error information
4. **Community**: Join discussions and share experiences

### Support Channels
- **GitHub Issues**: Bug reports and feature requests
- **Documentation**: Comprehensive guides and examples
- **Community Forum**: User discussions and tips

---

**🎯 Happy AI-Powered Penetration Testing!**

*Combining artificial intelligence with comprehensive security testing for next-generation vulnerability assessment.*
